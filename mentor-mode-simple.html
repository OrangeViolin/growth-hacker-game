<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¢é•¿é»‘å®¢å¯¼å¸ˆæ¨¡å¼ | Growth Hacker Mentor Mode</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Georgia, 'Source Han Serif SC', 'Noto Serif SC', serif;
            background: linear-gradient(135deg, #E8DCC4 0%, #D4C4AB 100%);
            min-height: 100vh;
            padding: 20px;
            color: #8B7355;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, #C9A961 0%, #A0937C 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(139, 115, 85, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }

        .challenge-section {
            background: #F5F0E8;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(139, 115, 85, 0.15);
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #D4C4AB;
        }

        .challenge-title {
            font-size: 1.8em;
            color: #C9A961;
        }

        .challenge-difficulty {
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .difficulty-easy { background: #E8F5E9; color: #2E7D32; }
        .difficulty-medium { background: #FFF3E0; color: #E65100; }
        .difficulty-hard { background: #FFEBEE; color: #C62828; }

        .challenge-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #C9A961;
            line-height: 1.8;
            white-space: pre-wrap;
        }

        .answer-section textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #D4C4AB;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, #C9A961 0%, #A0937C 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 15px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(201, 169, 97, 0.4);
        }

        .feedback {
            background: #FFF9F0;
            border-left: 4px solid #C9A961;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .sidebar {
            background: #F5F0E8;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(139, 115, 85, 0.15);
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: #E8DCC4;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #C9A961 0%, #D4AF37 100%);
            height: 100%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .challenge-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .challenge-item {
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .challenge-item:hover {
            background: #FFF9F0;
        }

        .challenge-item.current {
            background: #C9A961;
            color: white;
        }

        .challenge-item.completed {
            opacity: 0.6;
        }

        .hint-btn {
            background: #E8DCC4;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ å¢é•¿é»‘å®¢å¯¼å¸ˆæ¨¡å¼</h1>
            <p class="subtitle">Growth Hacker Mentor Mode - ä¸¥æ ¼é—¯å…³ï¼ŒçœŸæ­£æŒæ¡</p>
        </div>

        <div class="game-area">
            <div class="challenge-section">
                <div class="challenge-header">
                    <h2 class="challenge-title" id="challenge-title">ç¬¬1å…³ï¼šLTVåŸºç¡€è®¡ç®—</h2>
                    <span class="challenge-difficulty difficulty-medium" id="challenge-difficulty">ä¸­ç­‰ Medium</span>
                </div>

                <div class="challenge-content" id="challenge-scenario">
æ­£åœ¨åŠ è½½æŒ‘æˆ˜...
                </div>

                <div class="answer-section">
                    <h3 style="margin-bottom: 15px; color: #C9A961;">ğŸ“ ä½ çš„ç­”æ¡ˆï¼š</h3>
                    <textarea id="user-answer" placeholder="è¯·è¾“å…¥ä½ çš„ç­”æ¡ˆï¼ŒåŒ…æ‹¬ï¼š
1. å®Œæ•´çš„è®¡ç®—è¿‡ç¨‹
2. æ¯ä¸ªå˜é‡çš„è§£é‡Š
3. æœ€ç»ˆç­”æ¡ˆå’Œç»“è®º"></textarea>

                    <button class="submit-btn" onclick="submitAnswer()">æäº¤ç­”æ¡ˆ</button>
                    <button class="hint-btn" onclick="getHint()">ğŸ’¡ è·å–æç¤º (<span id="hints-remaining">3</span>æ¬¡)</button>
                </div>

                <div id="feedback-area"></div>
            </div>

            <div class="sidebar">
                <h3 style="margin-bottom: 20px; color: #C9A961;">ğŸ“Š å­¦ä¹ è¿›åº¦</h3>

                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%">0 / 10</div>
                </div>

                <h3 style="margin: 20px 0 15px; color: #C9A961;">ğŸ“ˆ ç­”é¢˜ç»Ÿè®¡</h3>
                <div class="stat-item">
                    <span>å½“å‰å…³å¡</span>
                    <strong id="current-level">1</strong>
                </div>
                <div class="stat-item">
                    <span>å·²å®Œæˆ</span>
                    <strong id="completed-count">0</strong>
                </div>
                <div class="stat-item">
                    <span>å¹³å‡åˆ†æ•°</span>
                    <strong id="average-score">--</strong>
                </div>
                <div class="stat-item">
                    <span>å½“å‰ç­‰çº§</span>
                    <strong id="current-grade">åˆå­¦è€…</strong>
                </div>

                <h3 style="margin: 20px 0 15px; color: #C9A961;">ğŸ“‹ å…³å¡åˆ—è¡¨</h3>
                <div class="challenge-list" id="challenge-list"></div>
            </div>
        </div>
    </div>

    <script>
        // æŒ‘æˆ˜æ•°æ®
        const challenges = [
            {
                id: 1,
                title: 'ç¬¬1å…³ï¼šLTVåŸºç¡€è®¡ç®—',
                difficulty: 'medium',
                scenario: `ä½ çš„SaaSäº§å“æ•°æ®ï¼š
- æœˆè´¹ï¼š$99
- å¹³å‡ç•™å­˜æœˆæ•°ï¼š8ä¸ªæœˆ
- Gross Marginï¼š75%

é—®é¢˜ï¼š
1. è®¡ç®—Gross LTVï¼ˆæ€»ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼‰
2. è®¡ç®—Net LTVï¼ˆå‡€ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼‰
3. è§£é‡Šä¸¤è€…çš„åŒºåˆ«åŠåº”ç”¨åœºæ™¯

è¦æ±‚ï¼šæ˜¾ç¤ºå®Œæ•´è®¡ç®—æ­¥éª¤`,
                answer: {
                    grossLTV: 792,
                    netLTV: 594
                },
                hints: [
                    'Gross LTV = æœˆè´¹ Ã— å¹³å‡ç•™å­˜æœˆæ•°',
                    'Net LTV = Gross LTV Ã— Gross Margin',
                    'Gross LTVä¸è€ƒè™‘æˆæœ¬ï¼ŒNet LTVè€ƒè™‘äº†æ¯›åˆ©ç‡'
                ]
            },
            {
                id: 2,
                title: 'ç¬¬2å…³ï¼šCAC Payback Period',
                difficulty: 'hard',
                scenario: `ä½ çš„SaaSå…¬å¸ï¼š
- æœˆè´¹ï¼š$49
- Gross Marginï¼š70%
- å¹³å‡CACï¼ˆå®¢æˆ·è·å–æˆæœ¬ï¼‰ï¼š$490
- æœˆæµå¤±ç‡ï¼š5%

é—®é¢˜ï¼š
1. è®¡ç®—CAC Payback Periodï¼ˆæœˆï¼‰
2. å¦‚æœè¦åœ¨6ä¸ªæœˆå†…å›æœ¬ï¼Œæœˆè´¹åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ
3. è¿™ä¸ªæŒ‡æ ‡ä¸ºä»€ä¹ˆå¯¹æ—©æœŸåˆ›ä¸šå…¬å¸å¾ˆé‡è¦ï¼Ÿ`,
                answer: {
                    paybackPeriod: 14.3,
                    targetPrice: 116.67
                },
                hints: [
                    'Monthly Profit = MRR Ã— Gross Margin',
                    'Payback Period = CAC / Monthly Profit',
                    '6ä¸ªæœˆå›æœ¬æ„å‘³ç€ï¼šCAC / (æ–°ä»·æ ¼ Ã— 0.7) = 6'
                ]
            },
            {
                id: 3,
                title: 'ç¬¬3å…³ï¼šç—…æ¯’ç³»æ•°Kå€¼',
                difficulty: 'hard',
                scenario: `Dropboxçš„æ¨èç³»ç»Ÿï¼š
- å¹³å‡æ¯ä¸ªç”¨æˆ·å‘é€2.5ä¸ªé‚€è¯·
- é‚€è¯·è½¬åŒ–ç‡ï¼š26%

é—®é¢˜ï¼š
1. è®¡ç®—ç—…æ¯’ç³»æ•°Kå€¼
2. å¦‚æœK=1.2ï¼Œ100ä¸ªåˆå§‹ç”¨æˆ·èƒ½å¸¦æ¥å¤šå°‘ç”¨æˆ·ï¼Ÿï¼ˆ3è½®å¢é•¿ï¼‰
3. è¦è¾¾åˆ°K>1ï¼Œè‡³å°‘éœ€è¦å¤šå°‘è½¬åŒ–ç‡ï¼Ÿï¼ˆå‡è®¾é‚€è¯·æ•°ä¿æŒ2.5ï¼‰`,
                answer: {
                    kValue: 0.65,
                    totalUsers: 464,
                    minConversion: 40
                },
                hints: [
                    'K = iï¼ˆé‚€è¯·æ•°ï¼‰Ã— cï¼ˆè½¬åŒ–ç‡ï¼‰',
                    'æ¯è½®å¢é•¿ï¼šæ–°ç”¨æˆ· = å½“å‰ç”¨æˆ· Ã— K',
                    'K > 1 è¡¨ç¤ºè‡ªç„¶å¢é•¿ï¼ŒK < 1 è¡¨ç¤ºéœ€è¦æŒç»­æŠ•å…¥'
                ]
            },
            {
                id: 4,
                title: 'ç¬¬4å…³ï¼šç•™å­˜æ›²çº¿åˆ†æ',
                difficulty: 'expert',
                scenario: `ä½ çš„Appæ•°æ®ï¼š
- Day 1 ç•™å­˜ç‡ï¼š40%
- Day 7 ç•™å­˜ç‡ï¼š20%
- Day 30 ç•™å­˜ç‡ï¼š8%
- Day 90 ç•™å­˜ç‡ï¼š5%

é—®é¢˜ï¼š
1. è¿™ä¸ªç•™å­˜æ›²çº¿å¥åº·å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
2. å¦‚æœè¦æå‡è‡³ä¼˜ç§€æ°´å¹³ï¼ˆD1: 50%, D7: 30%, D30: 15%ï¼‰ï¼Œåº”è¯¥ä¼˜å…ˆä¼˜åŒ–å“ªä¸ªç¯èŠ‚ï¼Ÿ
3. è®¡ç®—ï¼š1000ä¸ªæ–°ç”¨æˆ·ä¸­ï¼Œ90å¤©åè¿˜æœ‰å¤šå°‘æ´»è·ƒç”¨æˆ·ï¼Ÿ`,
                answer: {
                    day90Users: 50,
                    priority: 'Day 1 to Day 7'
                },
                hints: [
                    'D1->D7çš„è¡°å‡æœ€å¿«ï¼Œè¯´æ˜æ–°ç”¨æˆ·ä½“éªŒæœ‰é—®é¢˜',
                    'ä¼˜ç§€äº§å“çš„D1åº”è¯¥>40%ï¼ŒD7åº”è¯¥>25%',
                    'ç•™å­˜æ›²çº¿åº”è¯¥è¶‹äºå¹³ç¼“ï¼Œè€Œä¸æ˜¯ä¸€ç›´é™¡é™'
                ]
            },
            {
                id: 5,
                title: 'ç¬¬5å…³ï¼šA/Bæµ‹è¯•æ˜¾è‘—æ€§',
                difficulty: 'expert',
                scenario: `ä½ åœ¨æµ‹è¯•ä¸¤ä¸ªè½åœ°é¡µï¼š
ç‰ˆæœ¬Aï¼ˆå¯¹ç…§ç»„ï¼‰ï¼š
- è®¿é—®é‡ï¼š1000
- è½¬åŒ–æ•°ï¼š50
- è½¬åŒ–ç‡ï¼š5%

ç‰ˆæœ¬Bï¼ˆå®éªŒç»„ï¼‰ï¼š
- è®¿é—®é‡ï¼š1000
- è½¬åŒ–æ•°ï¼š65
- è½¬åŒ–ç‡ï¼š6.5%

é—®é¢˜ï¼š
1. è®¡ç®—æå‡å¹…åº¦
2. è¿™ä¸ªæå‡æ˜¯å¦æ˜¾è‘—ï¼Ÿï¼ˆä½¿ç”¨Z-testï¼ŒÎ±=0.05ï¼ŒZä¸´ç•Œå€¼=1.96ï¼‰
3. å¦‚æœè¦æ£€æµ‹å‡º1%çš„æå‡ï¼ˆä»5%åˆ°6%ï¼‰ï¼Œéœ€è¦å¤šå¤§æ ·æœ¬é‡ï¼Ÿ`,
                answer: {
                    improvement: 30,
                    zScore: 1.96,
                    sampleSize: 3841
                },
                hints: [
                    'æå‡å¹…åº¦ = (6.5% - 5%) / 5% = 30%',
                    'Z = (p1 - p2) / sqrt(p*(1-p)*(1/n1 + 1/n2))',
                    'æ ·æœ¬é‡å…¬å¼ï¼šn = (Z*Ïƒ/Î´)Â²'
                ]
            }
        ];

        // æ¸¸æˆçŠ¶æ€
        let currentChallengeIndex = 0;
        let completedChallenges = [];
        let scores = [];
        let hintsUsed = 0;

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            generateChallengeList();
            loadChallenge(0);
        }

        // ç”Ÿæˆå…³å¡åˆ—è¡¨
        function generateChallengeList() {
            const listContainer = document.getElementById('challenge-list');
            listContainer.innerHTML = challenges.map((challenge, index) => {
                const isCompleted = completedChallenges.includes(index);
                const isCurrent = index === currentChallengeIndex;
                const isLocked = index > 0 && !completedChallenges.includes(index - 1);

                return `
                    <div class="challenge-item ${isCompleted ? 'completed' : ''} ${isCurrent ? 'current' : ''}"
                         onclick="${!isLocked ? `loadChallenge(${index})` : ''}">
                        <div>
                            <div style="font-weight: bold;">${challenge.title}</div>
                            <div style="font-size: 0.85em; opacity: 0.8;">${challenge.difficulty}</div>
                        </div>
                        <div style="font-size: 1.5em;">
                            ${isCompleted ? 'âœ…' : isLocked ? 'ğŸ”’' : 'â­•'}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // åŠ è½½æŒ‘æˆ˜
        function loadChallenge(index) {
            currentChallengeIndex = index;
            const challenge = challenges[index];
            hintsUsed = 0;

            document.getElementById('challenge-title').textContent = challenge.title;
            document.getElementById('challenge-difficulty').textContent = challenge.difficulty;
            document.getElementById('challenge-difficulty').className = `challenge-difficulty difficulty-${challenge.difficulty}`;
            document.getElementById('challenge-scenario').textContent = challenge.scenario;
            document.getElementById('user-answer').value = '';
            document.getElementById('feedback-area').innerHTML = '';
            document.getElementById('hints-remaining').textContent = 3;

            generateChallengeList();
            updateStats();
        }

        // æäº¤ç­”æ¡ˆ
        function submitAnswer() {
            const answer = document.getElementById('user-answer').value.trim();

            if (!answer) {
                alert('è¯·è¾“å…¥ä½ çš„ç­”æ¡ˆï¼');
                return;
            }

            const challenge = challenges[currentChallengeIndex];
            const score = evaluateAnswer(answer, challenge);

            scores.push(score);

            if (score >= 70) {
                if (!completedChallenges.includes(currentChallengeIndex)) {
                    completedChallenges.push(currentChallengeIndex);
                }
                showFeedback(score, true);

                setTimeout(() => {
                    if (currentChallengeIndex < challenges.length - 1) {
                        loadChallenge(currentChallengeIndex + 1);
                    } else {
                        alert('ğŸ‰ æ­å–œï¼ä½ å·²å®Œæˆæ‰€æœ‰æŒ‘æˆ˜ï¼');
                    }
                }, 3000);
            } else {
                showFeedback(score, false);
            }

            updateStats();
        }

        // è¯„ä¼°ç­”æ¡ˆ
        function evaluateAnswer(answer, challenge) {
            let score = 0;
            const answerLower = answer.toLowerCase();

            // æ£€æŸ¥æ˜¯å¦åŒ…å«è®¡ç®—è¿‡ç¨‹ï¼ˆ30åˆ†ï¼‰
            if (answer.includes('Ã—') || answer.includes('*') || answer.includes('=') || answer.match(/\d+\s*[Ã—*]\s*\d+/)) {
                score += 30;
            }

            // æ£€æŸ¥æ˜¯å¦æœ‰è§£é‡Šè¯´æ˜ï¼ˆ20åˆ†ï¼‰
            if (answer.length > 100) {
                score += 20;
            }

            // æ£€æŸ¥å…³é”®æ•°å­—ï¼ˆ50åˆ†ï¼‰
            const numbers = answer.match(/\d+\.?\d*/g) || [];
            if (challenge.answer.grossLTV && numbers.some(n => Math.abs(parseFloat(n) - challenge.answer.grossLTV) < 10)) {
                score += 25;
            }
            if (challenge.answer.netLTV && numbers.some(n => Math.abs(parseFloat(n) - challenge.answer.netLTV) < 10)) {
                score += 25;
            }
            if (challenge.answer.kValue && numbers.some(n => Math.abs(parseFloat(n) - challenge.answer.kValue) < 0.1)) {
                score += 25;
            }
            if (challenge.answer.paybackPeriod && numbers.some(n => Math.abs(parseFloat(n) - challenge.answer.paybackPeriod) < 2)) {
                score += 25;
            }

            return Math.min(score, 100);
        }

        // æ˜¾ç¤ºåé¦ˆ
        function showFeedback(score, passed) {
            const grade = score >= 95 ? 'A+' : score >= 85 ? 'A' : score >= 75 ? 'B' : score >= 70 ? 'C' : 'F';
            const feedback = document.getElementById('feedback-area');

            feedback.innerHTML = `
                <div class="feedback">
                    <h3 style="color: ${passed ? '#2E7D32' : '#C62828'}; margin-bottom: 15px;">
                        ${passed ? 'âœ… é€šè¿‡ï¼' : 'âŒ æœªé€šè¿‡'}
                    </h3>
                    <div style="margin-bottom: 10px;">
                        <strong>å¾—åˆ†ï¼š</strong>${score} åˆ† | <strong>ç­‰çº§ï¼š</strong>${grade}
                    </div>
                    <div style="margin-top: 15px; line-height: 1.8;">
                        ${passed ?
                            `å¤ªæ£’äº†ï¼ä½ å±•ç°äº†æ‰å®çš„å¢é•¿é»‘å®¢çŸ¥è¯†ã€‚${score >= 95 ? 'å®Œç¾ç­”æ¡ˆï¼' : 'ç»§ç»­ä¿æŒï¼'}` :
                            `è¿˜éœ€è¦åŠ å¼ºã€‚å»ºè®®ï¼š<br>1. æ˜¾ç¤ºå®Œæ•´è®¡ç®—è¿‡ç¨‹<br>2. è§£é‡Šæ¯ä¸ªå˜é‡çš„å«ä¹‰<br>3. æ£€æŸ¥æ•°å­—çš„å‡†ç¡®æ€§<br><br>é‡æ–°ç»„ç»‡ä¸€ä¸‹ç­”æ¡ˆå†è¯•è¯•ï¼`
                        }
                    </div>
                </div>
            `;
        }

        // è·å–æç¤º
        function getHint() {
            const challenge = challenges[currentChallengeIndex];

            if (hintsUsed >= 3) {
                alert('æç¤ºæ¬¡æ•°å·²ç”¨å®Œï¼');
                return;
            }

            const hint = challenge.hints[hintsUsed];
            alert(`ğŸ’¡ æç¤º ${hintsUsed + 1}/3ï¼š\n\n${hint}`);

            hintsUsed++;
            document.getElementById('hints-remaining').textContent = 3 - hintsUsed;
        }

        // æ›´æ–°ç»Ÿè®¡
        function updateStats() {
            const avgScore = scores.length > 0
                ? (scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(1)
                : '--';

            document.getElementById('current-level').textContent = currentChallengeIndex + 1;
            document.getElementById('completed-count').textContent = completedChallenges.length;
            document.getElementById('average-score').textContent = avgScore;

            const progress = (completedChallenges.length / challenges.length * 100).toFixed(0);
            const progressFill = document.getElementById('progress-fill');
            progressFill.style.width = progress + '%';
            progressFill.textContent = `${completedChallenges.length} / ${challenges.length}`;

            let grade = 'åˆå­¦è€…';
            if (avgScore >= 90) grade = 'å¤§å¸ˆ';
            else if (avgScore >= 80) grade = 'ä¸“å®¶';
            else if (avgScore >= 70) grade = 'ç†Ÿç»ƒ';
            document.getElementById('current-grade').textContent = grade;
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
