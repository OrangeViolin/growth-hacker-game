<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation System Demo | åŠ¨ç”»ç³»ç»Ÿæ¼”ç¤º</title>
    <link rel="stylesheet" href="ui-effects.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: #333;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .demo-header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .demo-header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .demo-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .demo-section h2 {
            color: #667eea;
            margin-bottom: 25px;
            font-size: 2em;
            border-bottom: 3px solid #e9ecef;
            padding-bottom: 15px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            position: relative;
            overflow: hidden;
        }

        .metric-label {
            font-size: 0.9em;
            color: #6c757d;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            margin: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .demo-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            margin: 20px auto;
            max-width: 300px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: visible;
        }

        .demo-card:hover {
            border-color: #667eea;
        }

        .controls {
            text-align: center;
            margin: 30px 0;
        }

        .office-scene-wrapper {
            max-width: 600px;
            margin: 20px auto;
        }

        .description {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            line-height: 1.6;
            color: #6c757d;
        }

        code {
            background: #f1f3f5;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ğŸ¨ åŠ¨ç”»ç³»ç»Ÿæ¼”ç¤º</h1>
            <p>Animation System Demo</p>
        </div>

        <!-- 1. æ•°å­—è®¡æ•°åŠ¨ç”» -->
        <div class="demo-section">
            <h2>1. æ•°å­—è®¡æ•°åŠ¨ç”» CountUp Animation</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>æ•°å­—ä»æ—§å€¼å¹³æ»‘è¿‡æ¸¡åˆ°æ–°å€¼ï¼Œä½¿ç”¨ <code>requestAnimationFrame</code> å’Œç¼“åŠ¨å‡½æ•°å®ç°æµç•…åŠ¨ç”»ã€‚
            </div>

            <div class="demo-grid">
                <div class="metric-card" data-metric="users">
                    <div class="metric-label">ç”¨æˆ·æ•°</div>
                    <div class="metric-value" id="demo-users">5000</div>
                </div>
                <div class="metric-card" data-metric="revenue">
                    <div class="metric-label">æœˆæ”¶å…¥</div>
                    <div class="metric-value" id="demo-revenue">$10,000</div>
                </div>
                <div class="metric-card" data-metric="retention">
                    <div class="metric-label">ç•™å­˜ç‡</div>
                    <div class="metric-value" id="demo-retention">25%</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="demoCountUp()">ğŸš€ æ¨¡æ‹Ÿå¢é•¿</button>
                <button class="btn" onclick="demoReset()">ğŸ”„ é‡ç½®</button>
            </div>
        </div>

        <!-- 2. é‡Œç¨‹ç¢‘ç²’å­æ•ˆæœ -->
        <div class="demo-section">
            <h2>2. é‡Œç¨‹ç¢‘ç²’å­æ•ˆæœ Milestone Celebration</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>å½“è¾¾åˆ°é‡è¦é‡Œç¨‹ç¢‘æ—¶è§¦å‘å½©å¸¦åŠ¨ç”»å’Œå±å¹•éœ‡åŠ¨æ•ˆæœã€‚
            </div>

            <div class="controls">
                <button class="btn" onclick="demoMilestone()">ğŸ‰ è§¦å‘é‡Œç¨‹ç¢‘ (10,000ç”¨æˆ·)</button>
                <button class="btn" onclick="demoConfetti()">ğŸŠ ä»…å½©å¸¦æ•ˆæœ</button>
                <button class="btn" onclick="demoShake()">ğŸ“³ ä»…å±å¹•éœ‡åŠ¨</button>
            </div>
        </div>

        <!-- 3. æŒ‡æ ‡è„‰å†²è­¦å‘Š -->
        <div class="demo-section">
            <h2>3. æŒ‡æ ‡è„‰å†²åŠ¨ç”» Metric Pulse</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>å½“æŒ‡æ ‡å¤„äºè­¦æˆ’çŠ¶æ€æ—¶ï¼ˆå¦‚é¢„ç®—ä¸è¶³ã€ç•™å­˜ç‡ä½ï¼‰ï¼Œæ˜¾ç¤ºè„‰å†²åŠ¨ç”»æé†’ç”¨æˆ·ã€‚
            </div>

            <div class="demo-grid">
                <div class="metric-card">
                    <div class="metric-label">å›¢é˜Ÿç²¾åŠ›</div>
                    <div class="metric-value">15%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">é¢„ç®—ä½™é¢</div>
                    <div class="metric-value">$800</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">å®¢æˆ·æ»¡æ„åº¦</div>
                    <div class="metric-value">45%</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="demoPulseDanger()">âš ï¸ å±é™©è„‰å†² (çº¢è‰²)</button>
                <button class="btn" onclick="demoPulseWarning()">âš¡ è­¦å‘Šè„‰å†² (é»„è‰²)</button>
                <button class="btn" onclick="demoPulseSuccess()">âœ… æˆåŠŸè„‰å†² (ç»¿è‰²)</button>
            </div>
        </div>

        <!-- 4. å¡ç‰‡åŠ¨ç”» -->
        <div class="demo-section">
            <h2>4. å†³ç­–å¡ç‰‡åŠ¨ç”» Card Animations</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>å¡ç‰‡ç¿»è½¬ã€é€‰ä¸­é«˜äº®ã€æ»‘åŠ¨äº¤äº’ç­‰æ•ˆæœã€‚
            </div>

            <div class="demo-card" id="demo-card">
                <div style="font-size: 3em; margin-bottom: 15px;">ğŸ“</div>
                <h3>å†…å®¹è¥é”€ç­–ç•¥</h3>
                <p style="margin-top: 10px; color: #6c757d;">ç‚¹å‡»ç¿»è½¬ï¼Œæ‹–åŠ¨æ»‘åŠ¨</p>
            </div>

            <div class="controls">
                <button class="btn" onclick="demoFlip()">ğŸ”„ å¡ç‰‡ç¿»è½¬</button>
                <button class="btn" onclick="demoHighlight()">âœ¨ é€‰ä¸­é«˜äº®</button>
                <button class="btn" onclick="demoUnhighlight()">âŒ å–æ¶ˆé€‰ä¸­</button>
            </div>
        </div>

        <!-- 5. æˆå°±ç³»ç»Ÿ -->
        <div class="demo-section">
            <h2>5. æˆå°±è§£é”åŠ¨ç”» Achievement System</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>æˆå°±è§£é”æ—¶çš„éœ‡æ’¼æ•ˆæœï¼ŒåŒ…æ‹¬å…‰èŠ’ã€ç²’å­ã€æ—‹è½¬ç­‰å¤šé‡åŠ¨ç”»ã€‚
            </div>

            <div class="controls">
                <button class="btn" onclick="demoAchievementCommon()">ğŸ¥‰ æ™®é€šæˆå°±</button>
                <button class="btn" onclick="demoAchievementRare()">ğŸ¥ˆ ç¨€æœ‰æˆå°±</button>
                <button class="btn" onclick="demoAchievementEpic()">ğŸ¥‡ å²è¯—æˆå°±</button>
                <button class="btn" onclick="demoAchievementLegendary()">ğŸ‘‘ ä¼ å¥‡æˆå°±</button>
            </div>
        </div>

        <!-- 6. åŠå…¬å®¤åœºæ™¯ -->
        <div class="demo-section">
            <h2>6. å…¬å¸æˆé•¿å¯è§†åŒ– Office Scene</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>æ ¹æ®ç”¨æˆ·æ•°è‡ªåŠ¨å‡çº§åŠå…¬å®¤åœºæ™¯ï¼Œä»è½¦åº“åˆ°åˆ›ä¸šæ€»éƒ¨ã€‚
            </div>

            <div class="office-scene-wrapper" id="demo-office-container">
                <!-- å°†ç”±JavaScriptå¡«å…… -->
            </div>

            <div class="controls">
                <button class="btn" onclick="demoOffice('garage')">ğŸš— è½¦åº“åŠå…¬ (0-5K)</button>
                <button class="btn" onclick="demoOffice('small-office')">ğŸ¢ å°åŠå…¬å®¤ (5K-20K)</button>
                <button class="btn" onclick="demoOffice('medium-office')">ğŸ¬ ä¸­å‹åŠå…¬å®¤ (20K-100K)</button>
                <button class="btn" onclick="demoOffice('startup-hq')">ğŸ™ï¸ åˆ›ä¸šæ€»éƒ¨ (100K+)</button>
            </div>
        </div>

        <!-- 7. æç¤ºæ¶ˆæ¯ -->
        <div class="demo-section">
            <h2>7. æç¤ºæ¶ˆæ¯ Toast Notifications</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>è½»é‡çº§çš„æ¶ˆæ¯æç¤ºï¼Œæ”¯æŒå¤šç§ç±»å‹å’Œè‡ªåŠ¨æ¶ˆå¤±ã€‚
            </div>

            <div class="controls">
                <button class="btn" onclick="demoToast('success')">âœ… æˆåŠŸæ¶ˆæ¯</button>
                <button class="btn" onclick="demoToast('warning')">âš ï¸ è­¦å‘Šæ¶ˆæ¯</button>
                <button class="btn" onclick="demoToast('error')">âŒ é”™è¯¯æ¶ˆæ¯</button>
                <button class="btn" onclick="demoToast('info')">â„¹ï¸ ä¿¡æ¯æç¤º</button>
            </div>
        </div>

        <!-- 8. è¿›åº¦æ¡åŠ¨ç”» -->
        <div class="demo-section">
            <h2>8. è¿›åº¦æ¡åŠ¨ç”» Progress Bar</h2>
            <div class="description">
                <strong>åŠŸèƒ½ï¼š</strong>å¹³æ»‘çš„è¿›åº¦æ¡åŠ¨ç”»ï¼Œå¸¦å…‰æ³½æ•ˆæœã€‚
            </div>

            <div style="background: #e9ecef; height: 40px; border-radius: 20px; overflow: hidden; margin: 20px 0;">
                <div id="demo-progress" class="progress-bar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);">
                    0%
                </div>
            </div>

            <div class="controls">
                <button class="btn" onclick="demoProgress(25)">25%</button>
                <button class="btn" onclick="demoProgress(50)">50%</button>
                <button class="btn" onclick="demoProgress(75)">75%</button>
                <button class="btn" onclick="demoProgress(100)">100%</button>
            </div>
        </div>
    </div>

    <script src="animations.js"></script>
    <script>
        // æ¼”ç¤ºè„šæœ¬
        let currentUsers = 5000;
        let currentRevenue = 10000;
        let currentRetention = 25;

        // 1. æ•°å­—è®¡æ•°åŠ¨ç”»
        function demoCountUp() {
            const newUsers = currentUsers + Math.floor(Math.random() * 5000) + 3000;
            const newRevenue = currentRevenue + Math.floor(Math.random() * 20000) + 10000;
            const newRetention = Math.min(100, currentRetention + Math.floor(Math.random() * 20) + 10);

            gameAnimations.countUp(
                document.getElementById('demo-users'),
                currentUsers,
                newUsers,
                1500
            );

            gameAnimations.countUp(
                document.getElementById('demo-revenue'),
                currentRevenue,
                newRevenue,
                1500,
                (val) => '$' + Math.floor(val).toLocaleString()
            );

            gameAnimations.countUp(
                document.getElementById('demo-retention'),
                currentRetention,
                newRetention,
                1500,
                (val) => Math.floor(val) + '%'
            );

            // æ£€æŸ¥é‡Œç¨‹ç¢‘
            gameAnimations.checkMilestone(currentUsers, newUsers, 'users');
            gameAnimations.checkMilestone(currentRevenue, newRevenue, 'revenue');

            // æŒ‡æ ‡å¡ç‰‡è„‰å†²
            document.querySelectorAll('.metric-card').forEach(card => {
                card.classList.add('metric-updating');
                setTimeout(() => card.classList.remove('metric-updating'), 600);
            });

            currentUsers = newUsers;
            currentRevenue = newRevenue;
            currentRetention = newRetention;
        }

        function demoReset() {
            currentUsers = 5000;
            currentRevenue = 10000;
            currentRetention = 25;

            document.getElementById('demo-users').textContent = currentUsers.toLocaleString();
            document.getElementById('demo-revenue').textContent = '$' + currentRevenue.toLocaleString();
            document.getElementById('demo-retention').textContent = currentRetention + '%';
        }

        // 2. é‡Œç¨‹ç¢‘æ•ˆæœ
        function demoMilestone() {
            gameAnimations.triggerMilestoneAnimation(10000, 'users');
        }

        function demoConfetti() {
            gameAnimations.confettiExplosion();
        }

        function demoShake() {
            gameAnimations.screenShake();
        }

        // 3. æŒ‡æ ‡è„‰å†²
        function demoPulseDanger() {
            const cards = document.querySelectorAll('.demo-section:nth-child(4) .metric-card');
            cards.forEach(card => {
                gameAnimations.removeMetricPulse(card);
                gameAnimations.addMetricPulse(card, 'danger');
            });
        }

        function demoPulseWarning() {
            const cards = document.querySelectorAll('.demo-section:nth-child(4) .metric-card');
            cards.forEach(card => {
                gameAnimations.removeMetricPulse(card);
                gameAnimations.addMetricPulse(card, 'warning');
            });
        }

        function demoPulseSuccess() {
            const cards = document.querySelectorAll('.demo-section:nth-child(4) .metric-card');
            cards.forEach(card => {
                gameAnimations.removeMetricPulse(card);
                gameAnimations.addMetricPulse(card, 'success');
            });
        }

        // 4. å¡ç‰‡åŠ¨ç”»
        function demoFlip() {
            const card = document.getElementById('demo-card');
            gameAnimations.flipCard(card);
        }

        function demoHighlight() {
            const card = document.getElementById('demo-card');
            gameAnimations.highlightCard(card);
        }

        function demoUnhighlight() {
            const card = document.getElementById('demo-card');
            gameAnimations.unhighlightCard(card);
        }

        // 5. æˆå°±ç³»ç»Ÿ
        function demoAchievementCommon() {
            gameAnimations.showAchievement({
                title: 'åˆå‡ºèŒ…åº',
                description: 'å®Œæˆç¬¬ä¸€ä¸ªå¢é•¿ç­–ç•¥',
                icon: 'ğŸ¯',
                rarity: 'common'
            });
        }

        function demoAchievementRare() {
            gameAnimations.showAchievement({
                title: 'ç”¨æˆ·ç ´ä¸‡',
                description: 'æˆåŠŸè·å¾—10,000åç”¨æˆ·',
                icon: 'ğŸš€',
                rarity: 'rare'
            });
        }

        function demoAchievementEpic() {
            gameAnimations.showAchievement({
                title: 'å¢é•¿é»‘å®¢å¤§å¸ˆ',
                description: 'è¿ç»­3ä¸ªæœˆä¿æŒ40%å¢é•¿ç‡',
                icon: 'ğŸ’',
                rarity: 'epic'
            });
        }

        function demoAchievementLegendary() {
            gameAnimations.showAchievement({
                title: 'ç‹¬è§’å…½è¯ç”Ÿ',
                description: 'å…¬å¸ä¼°å€¼è¾¾åˆ°10äº¿ç¾å…ƒ',
                icon: 'ğŸ¦„',
                rarity: 'legendary'
            });
        }

        // 6. åŠå…¬å®¤åœºæ™¯
        function demoOffice(level) {
            const container = document.getElementById('demo-office-container');
            const scene = container.querySelector('.office-scene') || gameAnimations.initOfficeScene();

            if (!container.querySelector('.office-scene')) {
                container.appendChild(scene);
            }

            const levels = {
                'garage': { threshold: 0, class: 'garage', label: 'è½¦åº“åŠå…¬ Garage' },
                'small-office': { threshold: 5000, class: 'small-office', label: 'å°åŠå…¬å®¤ Small Office' },
                'medium-office': { threshold: 20000, class: 'medium-office', label: 'ä¸­å‹åŠå…¬å®¤ Medium Office' },
                'startup-hq': { threshold: 100000, class: 'startup-hq', label: 'åˆ›ä¸šæ€»éƒ¨ Startup HQ' }
            };

            gameAnimations.transitionOffice(scene, levels[level]);
        }

        // 7. æç¤ºæ¶ˆæ¯
        function demoToast(type) {
            const messages = {
                success: 'ç­–ç•¥æ‰§è¡ŒæˆåŠŸï¼ç”¨æˆ·å¢é•¿ 15%',
                warning: 'æ³¨æ„ï¼šé¢„ç®—å³å°†è€—å°½',
                error: 'æ‰§è¡Œå¤±è´¥ï¼šå›¢é˜Ÿç²¾åŠ›ä¸è¶³',
                info: 'æç¤ºï¼šå¯ä»¥å°è¯•å†…å®¹è¥é”€ç­–ç•¥'
            };

            gameAnimations.showToast(messages[type], type);
        }

        // 8. è¿›åº¦æ¡
        function demoProgress(percent) {
            const bar = document.getElementById('demo-progress');
            bar.style.width = percent + '%';
            bar.textContent = percent + '%';
        }

        // åˆå§‹åŒ–åŠå…¬å®¤åœºæ™¯
        document.addEventListener('DOMContentLoaded', () => {
            demoOffice('garage');

            // ä¸ºæ¼”ç¤ºå¡ç‰‡æ·»åŠ ç‚¹å‡»æ•ˆæœ
            const demoCard = document.getElementById('demo-card');
            demoCard.addEventListener('click', demoFlip);
        });
    </script>
</body>
</html>
